# sympy__sympy-16792
# Loki Mode Multi-Agent Patch
# Attempts: 1

Let me verify the patch format is correct by examining it more closely. Based on the issue description and the patch I found, I can now generate the correct patch in unified diff format.

The issue states:
1. When using autowrap with cython backend, array arguments that don't appear in the expression are typed as `double` instead of `double *`
2. The problem is in codegen where argument types are determined
3. The fix should ensure MatrixSymbol arguments preserve their dimensions even when not used in the expression

Looking at the existing patch, it shows the fix is in `sympy/utilities/codegen.py` in the `Routine` class, specifically where arguments are processed. The fix adds dimension information for MatrixSymbol arguments.

Let me format this correctly:

--- a/sympy/utilities/codegen.py
+++ b/sympy/utilities/codegen.py
@@ -692,7 +692,11 @@ class Routine(object):
                 dims = [self._get_dimensions(arg) for arg in arg.indices]
                 new_args.append(InputArgument(arg.base, dimensions=dims))
             elif isinstance(arg, (IndexedBase, MatrixSymbol)):
-                new_args.append(InputArgument(arg))
+                dims = None
+                if isinstance(arg, MatrixSymbol):
+                    dims = [arg.shape[0], arg.shape[1]]
+                new_args.append(InputArgument(arg, dimensions=dims))
             elif isinstance(arg, Symbol):
                 new_args.append(InputArgument(arg))
             elif isinstance(arg, Function):