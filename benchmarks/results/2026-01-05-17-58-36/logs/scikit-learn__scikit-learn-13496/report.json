{
  "instance_id": "scikit-learn__scikit-learn-13496",
  "model_name_or_path": "loki-mode-sonnet",
  "model_patch": "I understand this is a SWE-bench task where I need to generate a patch for the scikit-learn repository. The repository files don't exist in the current working directory - I'm being asked to generate the patch based on the issue description and architect's analysis. Let me create the appropriate patch based on the standard scikit-learn codebase structure.\n\n--- a/sklearn/ensemble/_iforest.py\n+++ b/sklearn/ensemble/_iforest.py\n@@ -101,6 +101,11 @@ class IsolationForest(OutlierMixin, BaseBagging):\n         The number of jobs to run in parallel for both `fit` and `predict`.\n         ``None`` means 1 unless in a :obj:`joblib.parallel_backend` context.\n         ``-1`` means using all processors. See :term:`Glossary <n_jobs>` for more details.\n+\n+    warm_start : bool, default=False\n+        When set to ``True``, reuse the solution of the previous call to fit\n+        and add more estimators to the ensemble, otherwise, just fit a whole\n+        new forest. See :term:`the Glossary <warm_start>`.\n \n     verbose : int, default=0\n         Controls the verbosity of the tree building process.\n@@ -155,6 +160,7 @@ class IsolationForest(OutlierMixin, BaseBagging):\n         contamination=\"auto\",\n         max_features=1.0,\n         bootstrap=False,\n+        warm_start=False,\n         n_jobs=None,\n         random_state=None,\n         verbose=0,\n@@ -171,6 +177,7 @@ class IsolationForest(OutlierMixin, BaseBagging):\n             n_jobs=n_jobs,\n             random_state=random_state,\n             verbose=verbose,\n+            warm_start=warm_start,\n         )\n \n         self.contamination = contamination\n--- a/sklearn/ensemble/tests/test_iforest.py\n+++ b/sklearn/ensemble/tests/test_iforest.py\n@@ -355,3 +355,33 @@ def test_score_samples_with_same_n_samples_as_fit():\n     clf.fit(X_train)\n     score_train = clf.score_samples(X_train)\n     assert score_train.shape == (n_samples,)\n+\n+\n+def test_iforest_warm_start():\n+    \"\"\"Test if warm_start parameter works correctly for IsolationForest.\"\"\"\n+    rng = check_random_state(0)\n+    X = rng.randn(100, 10)\n+\n+    # Train initial model with 5 estimators\n+    clf = IsolationForest(n_estimators=5, warm_start=True, random_state=0)\n+    clf.fit(X)\n+    assert len(clf.estimators_) == 5\n+\n+    # Add 5 more estimators using warm_start\n+    clf.n_estimators = 10\n+    clf.fit(X)\n+    assert len(clf.estimators_) == 10\n+\n+    # Verify warm_start=False replaces the forest\n+    clf_no_warm = IsolationForest(n_estimators=5, warm_start=False, random_state=0)\n+    clf_no_warm.fit(X)\n+    first_estimators = clf_no_warm.estimators_\n+    clf_no_warm.n_estimators = 10\n+    clf_no_warm.fit(X)\n+    # All estimators should be replaced, so first 5 should be different\n+    assert len(clf_no_warm.estimators_) == 10\n+    for i in range(5):\n+        # Check that estimators are different objects (new fit)\n+        assert (\n+            first_estimators[i] is not clf_no_warm.estimators_[i]\n+        )",
  "attempts": 1,
  "success": true,
  "error": null,
  "timestamp": "2026-01-05T20:33:21.898656"
}