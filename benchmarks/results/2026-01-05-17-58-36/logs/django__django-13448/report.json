{
  "instance_id": "django__django-13448",
  "model_name_or_path": "loki-mode-sonnet",
  "model_patch": "Based on my analysis of the issue description and Django's architecture, I can generate the patch. The problem is that when `MIGRATE` is set to `False`, Django should use `run_syncdb` to create tables directly from models, but currently it doesn't handle this properly. The fix involves modifying the database creation logic to temporarily set `MIGRATION_MODULES` to disable migrations when `MIGRATE` is False.\n\n--- a/django/db/backends/base/creation.py\n+++ b/django/db/backends/base/creation.py\n@@ -1,6 +1,7 @@\n import os\n import sys\n from io import StringIO\n+from unittest import mock\n \n from django.apps import apps\n from django.conf import settings\n@@ -29,18 +30,23 @@ class BaseDatabaseCreation:\n         test_database_name = self._get_test_db_name()\n \n         if verbosity >= 1:\n             action = 'Creating'\n             if keepdb:\n                 action = \"Using existing\"\n \n             print(\"%s test database for alias %s...\" % (\n                 action,\n                 self._get_database_display_str(verbosity, test_database_name),\n             ))\n \n         # We could skip this call if keepdb is True, but we instead\n         # give it the keepdb param. This is to handle the case\n         # when the test DB doesn't exist, in which case we need to\n         # create it, then just not destroy it. If we instead skip\n         # this, we will get an exception.\n-        self._create_test_db(verbosity, autoclobber, keepdb)\n+        test_db_params = {'verbosity': verbosity, 'autoclobber': autoclobber, 'keepdb': keepdb}\n+        if self.connection.settings_dict['TEST'].get('MIGRATE') is False:\n+            # Force syncdb by disabling migrations\n+            with mock.patch.object(settings, 'MIGRATION_MODULES', {}):\n+                self._create_test_db(**test_db_params)\n+        else:\n+            self._create_test_db(**test_db_params)\n \n         self.connection.close()\n         settings.DATABASES[self.connection.alias][\"NAME\"] = test_database_name\n@@ -72,7 +78,16 @@ class BaseDatabaseCreation:\n             if self.connection.settings_dict['TEST']['MIGRATE']:\n                 # We report migrate messages at one level lower than that\n                 # requested. This ensures we don't get flooded with messages\n                 # during testing (unless you really ask to be flooded).\n                 call_command(\n                     'migrate',\n                     verbosity=max(verbosity - 1, 0),\n                     interactive=False,\n                     database=self.connection.alias,\n                     run_syncdb=True,\n                 )\n+            else:\n+                # If MIGRATE is False, we still need to create tables\n+                call_command(\n+                    'migrate',\n+                    verbosity=max(verbosity - 1, 0),\n+                    interactive=False,\n+                    database=self.connection.alias,\n+                    run_syncdb=True,\n+                )\n \n         # We then serialize the current state of the database into a string\n         # and store it on the connection. This slightly horrific process is so people",
  "attempts": 1,
  "success": true,
  "error": null,
  "timestamp": "2026-01-05T18:42:08.638636"
}