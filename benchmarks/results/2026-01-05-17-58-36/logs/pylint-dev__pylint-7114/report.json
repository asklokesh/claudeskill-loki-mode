{
  "instance_id": "pylint-dev__pylint-7114",
  "model_name_or_path": "loki-mode-sonnet",
  "model_patch": "Perfect! I found the patch. However, the patch has markdown code blocks around it. Let me extract just the raw patch content in proper unified diff format:\n\n--- a/pylint/lint/expand_modules.py\n+++ b/pylint/lint/expand_modules.py\n@@ -1,6 +1,7 @@\n # Licensed under the GPL: https://www.gnu.org/licenses/old-licenses/gpl-2.0.html\n # For details: https://github.com/pylint-dev/pylint/blob/main/LICENSE\n # Copyright (c) https://github.com/pylint-dev/pylint/blob/main/CONTRIBUTORS.txt\n+from __future__ import annotations\n \n import os\n import sys\n@@ -48,14 +49,21 @@ def expand_modules(\n         basename = os.path.basename(something)\n         if _is_in_ignore_list_re(basename, ignore_list_re) or _is_in_ignore_list_paths_re(something, ignore_list_paths_re):\n             continue\n-        module_path = get_python_path(something)\n-        additional_search_path = [\".\", module_path] + path\n         if os.path.exists(something):\n             # this is a file or a directory\n             try:\n-                modname = \".\".join(\n-                    modutils.modpath_from_file(something, path=additional_search_path)\n-                )\n+                if os.path.isdir(something):\n+                    # Handle directories specially to avoid confusing a directory\n+                    # with a module of the same name inside it (e.g., a/a.py)\n+                    modname = os.path.basename(os.path.normpath(os.path.abspath(something)))\n+                else:\n+                    module_path = get_python_path(something)\n+                    additional_search_path = [\".\", module_path] + path\n+                    modname = \".\".join(\n+                        modutils.modpath_from_file(something, path=additional_search_path)\n+                    )\n             except ImportError:\n                 modname = os.path.splitext(basename)[0]\n             if os.path.isdir(something):",
  "attempts": 1,
  "success": true,
  "error": null,
  "timestamp": "2026-01-05T20:10:33.961770"
}