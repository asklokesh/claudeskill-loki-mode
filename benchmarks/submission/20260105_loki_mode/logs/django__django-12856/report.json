{
  "instance_id": "django__django-12856",
  "model_name_or_path": "loki-mode-sonnet",
  "model_patch": "I see this is the claudeskill-loki-mode repository, not the Django repository. This is a SWE-bench task where I need to generate a patch for a Django issue. Let me create the patch based on the architect's analysis.\n\nBased on the issue description and architect's analysis, I need to add field validation to `UniqueConstraint._check()` method in Django's constraints.py file. The fix should call `_check_local_fields()` similar to how `unique_together` validates fields.\n\n--- a/django/db/models/constraints.py\n+++ b/django/db/models/constraints.py\n@@ -88,6 +88,7 @@ class BaseConstraint:\n \n     def _check(self, **kwargs):\n         errors = self._check_required_db_features(**kwargs)\n+        errors.extend(self._check_local_fields(**kwargs))\n         return errors\n \n     def _check_required_db_features(self, databases=None, **kwargs):\n@@ -110,6 +111,17 @@ class BaseConstraint:\n                 )\n         return errors\n \n+    def _check_local_fields(self, **kwargs):\n+        from django.db import models\n+        errors = []\n+        fields = getattr(self, 'fields', None)\n+        if fields is not None:\n+            errors.extend(\n+                models.base.ModelBase._check_local_fields(self.model, fields)\n+            )\n+        return errors\n+\n+\n \n class CheckConstraint(BaseConstraint):\n     def __init__(self, *, check, name, violation_error_message=None):",
  "attempts": 1,
  "success": true,
  "error": null,
  "timestamp": "2026-01-05T18:32:27.237855"
}