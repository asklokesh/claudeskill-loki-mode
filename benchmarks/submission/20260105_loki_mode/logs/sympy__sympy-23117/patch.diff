--- a/sympy/tensor/array/ndim_array.py
+++ b/sympy/tensor/array/ndim_array.py
@@ -117,6 +117,8 @@
                 return flatten(pointer), ()
 
             def f(pointer):
+                if len(pointer) == 0:
+                    return [], (0,)
                 elems, shapes = zip(*[f(i) for i in pointer])
                 if len(set(shapes)) != 1:
                     raise ValueError("could not determine shape unambiguously")