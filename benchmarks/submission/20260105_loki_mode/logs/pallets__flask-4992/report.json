{
  "instance_id": "pallets__flask-4992",
  "model_name_or_path": "loki-mode-sonnet",
  "model_patch": "Based on my knowledge of Flask's Config class and the issue description, I'll generate the patch. The `from_file()` method needs to accept a `text` parameter to control binary vs text mode file opening.\n\n--- a/src/flask/config.py\n+++ b/src/flask/config.py\n@@ -240,7 +240,7 @@ class Config(dict):\n         self.from_mapping(mapping)\n         return True\n \n-    def from_file(self, filename: str, load: t.Callable[[t.IO[t.Any]], t.Mapping], silent: bool = False) -> bool:\n+    def from_file(self, filename: str, load: t.Callable[[t.IO[t.Any]], t.Mapping], silent: bool = False, text: bool = True) -> bool:\n         \"\"\"Update the values in the config from a file that is loaded\n         using the ``load`` parameter. The loaded data is passed to the\n         :meth:`from_mapping` method.\n@@ -259,6 +259,10 @@ class Config(dict):\n             import json\n             app.config.from_file(\"config.json\", load=json.load)\n \n+            import tomllib\n+            app.config.from_file(\"config.toml\", load=tomllib.load, text=False)\n+\n+        .. versionchanged:: 2.3\n+            The ``text`` parameter was added.\n \n         .. versionadded:: 2.0\n \n@@ -266,13 +270,14 @@ class Config(dict):\n             The name of the file to load.\n         :param load: A callable that takes a file handle and returns a\n             mapping of loaded data from the file.\n-        :type load: ``Callable[[Reader], Mapping]`` where ``Reader``\n-            implements a ``read`` method.\n+        :param text: Open the file in text or binary mode.\n         :param silent: Ignore the file if it doesn't exist.\n         :return: ``True`` if the file was loaded successfully.\n         \"\"\"\n         filename = os.path.join(self.root_path, filename)\n \n         try:\n-            with open(filename) as f:\n+            with open(filename, \"r\" if text else \"rb\") as f:\n                 obj = load(f)\n         except OSError as e:",
  "attempts": 1,
  "success": true,
  "error": null,
  "timestamp": "2026-01-05T19:53:16.494081"
}